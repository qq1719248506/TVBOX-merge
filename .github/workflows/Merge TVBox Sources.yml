name: Merge TVBox Sources

on:
Â Â push:
Â Â Â Â paths:
Â Â Â Â Â Â -Â 'é’é¾™é¢æ¿ç‰ˆæ‰€ç”¨å·¥å…·/source.json'
Â Â Â Â Â Â -Â 'merge_script.py'Â Â #Â è„šæœ¬å˜æ›´ä¹Ÿè§¦å‘
Â Â schedule:
Â Â Â Â -Â cron:Â '0Â 0Â *Â *Â *'
Â Â workflow_dispatch:

jobs:
Â Â merge-sources:
Â Â Â Â runs-on:Â ubuntu-latest
Â Â Â Â 
Â Â Â Â steps:
Â Â Â Â -Â name:Â CheckoutÂ repository
Â Â Â Â Â Â uses:Â actions/checkout@v4
Â Â Â Â Â Â with:
Â Â Â Â Â Â Â Â token:Â ${{Â secrets.GITHUB_TOKENÂ }}
Â Â Â Â Â Â Â Â 
Â Â Â Â -Â name:Â SetÂ upÂ Python
Â Â Â Â Â Â uses:Â actions/setup-python@v4
Â Â Â Â Â Â with:
Â Â Â Â Â Â Â Â python-version:Â '3.10'
Â Â Â Â Â Â Â Â 
Â Â Â Â -Â name:Â InstallÂ dependencies
Â Â Â Â Â Â run:Â pipÂ installÂ requests
Â Â Â Â Â Â 
Â Â Â Â -Â name:Â RunÂ mergeÂ script
Â Â Â Â Â Â run:Â pythonÂ merge_script.py
Â Â Â Â Â Â Â Â 
Â Â Â Â -Â name:Â CommitÂ andÂ pushÂ ifÂ changed
Â Â Â Â Â Â run:Â |
Â Â Â Â Â Â Â Â gitÂ configÂ --localÂ user.emailÂ "action@github.com"
Â Â Â Â Â Â Â Â gitÂ configÂ --localÂ user.nameÂ "GitHubÂ Action"
Â Â Â Â Â Â Â Â gitÂ addÂ -A
Â Â Â Â Â Â Â Â gitÂ diffÂ --stagedÂ --quietÂ ||Â (gitÂ commitÂ -mÂ "ğŸ¤–Â AutoÂ updateÂ TVBoxÂ sources"Â &&Â gitÂ push)
